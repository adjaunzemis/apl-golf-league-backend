<html>
    <body style="margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, Helvetica, sans-serif;">
    <div style="width: 100%; background: #efefef; border-radius: 10px; padding: 10px;">
        <div style="margin: 0 auto; width: 90%; text-align: center;">
        <a style="display: block; margin: 10px auto; padding: 2px 2px; background-color: rgb(0, 53, 102); border-radius: 10px; line-height: 24px; color: white; cursor: pointer; text-decoration: none" href="https://aplgolfleague.com">
            <h2>APL Golf League - Handicap Update Report</h2>
        </a>
        <div style="margin: 10px auto; background: white; width: 60%; border-radius: 10px; padding: 10px; text-align: center;">
            <h3 style="margin-bottom: 15px; font-size: 16px;">Updated golfer handicaps at: {{ update_date }}</h3>
            <table style="border-collapse: collapse; margin: 25px auto; font-size: 0.9em; font-family: sans-serif; min-width: 600px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);">
                <thead>
                    <tr style="background-color: rgb(0, 53, 102); color: #ffffff">
                        <th style="padding: 5px 2px">Golfer</th>
                        <th style="padding: 5px 2px">Index Change</th>
                        <th style="padding: 5px 2px">Reasons</th>
                    </tr>
                </thead>
                <tbody>
                    {% for update in updates -%}
                        <tr style="border-bottom: 1px solid #dddddd">
                            <td style="padding: 5px 2px">{{ update["golfer_name"] }} (id={{ update["golfer_id"] }})</td>
                            <td style="padding: 5px 2px">{{ update["index_prior"] }} -> {{ update["index_new"] }}</td>
                            <td style="padding: 5px 2px">{{ update["reasons"] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        </div>
    </div>
    </body>
</html>
